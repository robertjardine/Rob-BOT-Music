doctype html
html(lang='en')
    head
        //- Meta Information
        meta(charset='UTF-8')
        meta(http-equiv='X-UA-Compatible', content='IE=edge') 
        meta(name='viewport', content="width=device-width", initial-scale=1)

        title Let's Listen! - Rob-BOT

        //- Boostrap
        link(rel='stylesheet', type='text/css', href='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css')
        script(src='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js')

        script(src='https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js')

        link(rel='stylesheet', type='text/css', href='../css/main.css')
    body
        - var currentSong = playlist[0].songInfo

        //-  Left Sidebar With Generated Playlist Information
        div#left-sidebar
            div#current-playlist
                each track in trackInfo
                    div.playlist-song
                        p(onclick="setCurrentSong('" + JSON.stringify(track) + "')")= track.name
                    //-  Loop through playlist and populate items on load/update

        div#main-content

            div
                //- Current Song Information 
                //-     New Generated Name Information 
                //-     Default Visible 
                div#current-song
                    h1#curr-name= trackInfo[0].name
                    each artist in trackInfo[0].artists
                        h3.artists= artist.name
                    h3#curr-album= trackInfo[0].album.name
                    image#album-art(src=trackInfo[0].album.images[1].url)
        
                //-  Default Hidden 
                div#artist-tab
                
                //-  Default Hidden
                div#album-tab

            //-  Play/Rating Bar 
                //-  Update Neural Network After Being Rated 
            div#song-controls
                div#like-dislike
                    //-  On-Click Update The Neural Network And Playlist 
                        //-  Do Asynchronous (Promise/Callback) For Better User Experience 
                    iframe#song-src(src="https://open.spotify.com/embed?uri=spotify:track:" + currentSong.id, width="600", height="80", frameborder="0", allowtransparency="true", allow="encrypted-media")
                    //- div
                    //-     button(type='button', onclick="submitRatingFromPlaylist('" + JSON.stringify(trackInfo[0]) + "', '" + JSON.stringify(currentSong) + "')") LIKE
                    //-     button(type='button', onclick="submitRatingFromPlaylist('" + JSON.stringify(trackInfo[0]) + "', '" + JSON.stringify(currentSong) + "')") DISLIKE
        form(action="train")
            input#train-more(type="submit", value="More Training!")
        
        script(src="../js/train.js")